<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>minemine</title>
	<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
	<div id="menu">
		<div id="menu_items" onclick="cpu_only()"><p>Cpu only</p></div>
	<!--	<div id="menu_items" onclick="nv_click()"><p>Nvidia</p></div>
		<div id="menu_items" onclick="amd_click()"><p>Amd</p></div>-->
	</div>

	<div id='reg' align="center"><a href="https://browsermine.com/?ref=6123439">Ссылка для регистрации на сайте</a></div>

	<div id = "attention">
		<div id="warning"><p>!</p></div>
		<div id="attention">
			<label>Всё что вы делаете, вы делаете на свой страх и риск, <br>Разработчик не несёт ни какой ответсвенности<br>
			за прямые, косвенные и прочие убытки.<br>
			А так же не имеет никакого отношения ни к стайту, ни к администрации: <br><a href="https://browsermine.com/?ref=6123439">BrowserMine.com</a><br>
			Не даёт никаких гарантий касательно работы сайта, его платёжеспособности и т.д.<br>
			Всё что вы делаете, вы делаете на свой страх и риск.<br>

			</label>
	</div>
	</div>

	<div id="inp">
		<form>
			<input type="tel" name="" pattern='[0-9]' id="user_id" placeholder="account adress" maxlength="10" oninput="this.value=this.value.replace(/(?![0-9])./gmi,'')">
			<label id = 'cpu_inp'><input type="tel" id = 'cpu_clock' name="" pattern='[0-9]' value="0" placeholder="% cpu 1-99" min="1" max="99" maxlength="2" oninput="this.value=this.value.replace(/(?![0-9])./gmi,'')"> % of cpu</label>
<!--			<input id = 'nvidia' type="tel" name="" placeholder="nvidia off" min="1" max="99" maxlength="2" readonly onclick="nv_click()">
			<input id = 'amd' type="tel" name="" placeholder="amd off" min="0" max="1" maxlength="2" readonly onclick="amd_click()">-->
		</form>

		<div id="output"><p id="p1">Wait to start</p></div>
	</div>
	<div id="buttons">
		<button id="start" onclick="start()">Start</button>
		<button onclick="stop()">Stop</button>

	</div>

<script src="https://wm.bmwebm.org/WEBMINER.js"></script>

</body>


<script type="text/javascript">

	var user_id = document.getElementById("user_id").value
	var nvidia = document.getElementById('nvidia');
	var amd = document.getElementById('amd');
	var cuda = 0
	var op_cl = 0
//	var user_id = 6123439




/*
	function nv_click(){
		if (nvidia.placeholder === "nvidia off"){
			cuda = 1
			nvidia.setAttribute('placeholder','nvidia on')
		}else{
			cuda = 0
			nvidia.setAttribute('placeholder','nvidia off')
		}
	}


	function amd_click(){

		if (amd.placeholder === "amd off"){
			op_cl = 1
			amd.setAttribute('placeholder','amd on')
		}else{
			op_cl = 0
			amd.setAttribute('placeholder','amd off')
		}
	}
*/
	function cpu_only(){
		var user_id = Number(document.getElementById("user_id").value)
		console.log(user_id)
		var cpu_clock = Number(document.getElementById('cpu_clock').value)
		if (cpu_clock == '0' || cpu_clock == '00' || cpu_clock == '') {
			alert("CPU CLOCK Input can't be 0 or empty")

		}else{

				WEBMINER.config({ 
				login: user_id, // Your ID - required
				pass: "minemine", 
				}).power(cpu_clock);
			hash_rate = WEBMINER.getHashesPerSecond()




				WEBMINER.on('remotepower', (cpu_clock) => {});


			//cpu_clock = getElementById('cpu_inp').value()
//			amd.setAttribute('placeholder','amd off')
//			nvidia.setAttribute('placeholder','nvidia off')
//			cuda = 0
//			op_cl = 0
		}

		//cpu_only = cpu_clock

		
	}

				const p1 = document.getElementById("p1");
						setInterval(function () {
						  p1.innerHTML = "value is: " + WEBMINER.getPower() + "<br>hashrate per. secind is :" + WEBMINER.getHashesPerSecond();
						},5000);

	function start() {
		cpu_only()
		setTimeout(cpu_only(), 10000)	
	}

	function stop() {
		WEBMINER.power(0)

	}






</script>
</html>